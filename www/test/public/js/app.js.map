{"version":3,"sources":["webpack:///webpack/bootstrap afe8359b2b2d1910f765","webpack:///./app/public/js/utility.js","webpack:///./app/public/js/options.js","webpack:///./app/public/js/TOPICS.js","webpack:///./app/public/js/core.js","webpack:///./app/public/js/element.js","webpack:///./app/public/js/set.js","webpack:///./app/public/js/CURSOR.js","webpack:///./app/public/js/mixin.js","webpack:///./app/public/js/pubsub.js","webpack:///./app/public/js/icon.js","webpack:///./app/public/js/screen.js","webpack:///./app/public/js/toolbar.js","webpack:///./app/public/js/app.js","webpack:///./app/public/js/option.js"],"names":[],"mappings":"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","file":"app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 12);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap afe8359b2b2d1910f765","'use strict';\n\nconst TYPES = {\n\t\tSTR: 'string',\n\t\tFN: 'function',\n\t\tOBJ: 'object',\n\t\tNUM: 'number',\n\t\tBOOL: 'boolean',\n\t\tSYM: 'symbol',\n\t\tUNDEF: 'undefined'\n\t},\n\tUCHAR = {\n\t\tcopyright: '\\u00a9',\n\t\tasterisk: '\\u002a'\n\t},\n\tGT = '>',\n\tLT = '<',\n\tdoc = document,\n\tbody = doc.body\n\nObject.freeze(TYPES)\nexport { TYPES }\n\nconst { STR, FN, OBJ, NUM, BOOL, SYM, UNDEF } = TYPES\n\nconst util = {\n\n\tisFn( fn ) {\n\t\treturn typeof fn === FN\n\t},\n\t\n\tnFn( fn ) {\n\t\treturn !typeof fn === FN\n\t},\n\n\tisDef( val ) {\n\t\treturn !(typeof val === UNDEF)\n\t},\n\n\tnDef( val ) {\n\t\treturn typeof val === UNDEF\n\t},\n\n\tisStr( str ) {\n\t\treturn typeof str === STR\n\t},\n\t\n\tnStr( str ) {\n\t\treturn !typeof str === STR\n\t},\n\n\tisElement( el ) {\n\t\treturn el instanceof HTMLElement\n\t},\n\n\tnElement( el ) {\n\t\treturn !(el instanceof HTMLElement)\n\t},\n\t\n\tready: (( queue ) => {\n\n\t\tdoc.addEventListener('readystatechange', () => {\n\t\t\tfor(let i = 0, len = queue.length; i < len; ++i ) {\n\t\t\t\tqueue.pop()()\n\t\t\t}\n\t\t});\n\n\t\treturn function( fn ) {\n\t\t\tif( typeof fn !== FN ) {\n\t\t\t\tthrow new TypeError('argument not of function type')\n\t\t\t}\n\n\t\t\tdoc.readyState === 'complete' ? fn() : queue.push(fn)\n\t\t};\n\n\t})([]),\n\n\tappend( node, nodes = [] ) {\n\t\tfor( let i = 0, len = nodes.length; i < len; ++i ) {\n\t\t\tnode.appendChild(nodes[i])\n\t\t}\n\t},\n\n\tel( type ) {\n\t\treturn doc.createElement(type)\n\t},\n\t\n\ttxt( str ) {\n\t\treturn doc.createTextNode(str)\n\t},\n\n\tnode() {\n\t\treturn doc.createDocumentFragment();\n\t},\n\n\tchar( str ) {\n\t\treturn UCHAR[str]\n\t},\n\n\taddCss(node, ...classes) {\n\t\tnode.classList.add(...classes)\n\t},\n\n\tremoveCss(node, ...classes) {\n\t\tnode.classList.remove(...classes)\n\t},\n\n\tevent(...args) {\n\t\tdoc.addEventListener(...args)\n\t},\n\n\tcls( node, list_ ) {\n\t\tlet list = typeof list_ === STR ? list_.split(' ') : list_\n\n\t\tfor( let i = 0, len = list.length; i < len; ++i ) {\n\t\t\tnode.classList.add(list[i])\n\t\t}\n\n\t\treturn node\n\t},\n\n\trect( el ) {\n\t\treturn el.getBoundingClientRect()\t\n\t},\n\n\tstyle( el ) {\n\t\treturn window.getComputedStyle(el)\n\t}\n}\n\nconst ops = {\n\t\n\tel( arg ) {\n\t\tif( arg === void 0 ) {\n\t\t\treturn this._el\n\t\t\t\n\t\t} else if( typeof arg === STR ) {\n\t\t\tthis._el = doc.createElement(arg)\n\t\t\treturn this\n\t\t\n\t\t} else {\n\t\t\tthrow new Error('Tag must be string type')\n\t\t}\n\t},\n\t\n\tcls( list_ ) {\n\t\tlet list = typeof list_ === STR ? list_.split(' ') : list_\n\n\t\tfor( let i = 0, len = list.length; i < len; ++i ) {\n\t\t\tthis._el.classList.add(list[i])\n\t\t}\n\n\t\treturn this\n\t}\n\t\n}\n\nexport const _ = function(arg) {\n\tlet ret\n\n\tif( typeof arg === STR ) {\n\t\treturn Object.create(ops).el(arg)\n\t\n\t} else if( typeof arg === OBJ &&\n\t\tops.isPrototypeOf(arg) ) {\n\t\t\n\t\treturn arg.el()\n\t\n\t} else if( util.isElement(arg) ) {\n\t\to = Object.create(ops)\n\t\to._el = arg\n\n\t\treturn o\n\t}\n}\n\nexport default _\n\nObject.assign(_, util)\n\n\n\n\n// WEBPACK FOOTER //\n// ./app/public/js/utility.js","import { TYPES } from './utility.js'\nimport UiOption from './option.js'\n\nconst\n\tWARN = 1,\n\tINFO = 1,\n\t{ UNDEF, STR, BOOL, NUM, FN, OBJ, SYM } = TYPES\n\nexport default class UiOptions {\n\tconstructor( options = {}, superOptions = {}, descriptors = {}, base = false ) {\t\t\n\t\tlet $\n\n\t\tif( typeof superOptions !== OBJ ) {\n\t\t\tthrow new Error('Super options not an object')\n\t\t}\n\t\t\n\t\tif( typeof descriptors !== OBJ ) {\n\t\t\tthrow new Error('Descriptors not an object')\n\t\t}\n\t\t\n\t\tif( options instanceof UiOptions ) {\n\t\t\t$ = options\n\n\t\t} else if( typeof options === OBJ ) {\n\t\t\t$ = this\n\n\t\t\tObject.defineProperty($, '_options', {\n\t\t\t\tvalue: new Map()\n\t\t\t})\n\t\t\t\n\t\t\tObject.defineProperty($, '_pending', {\n\t\t\t\tvalue: new Map()\n\t\t\t})\n\t\t\t\n\t\t\t$.$addOptions(options)\n\n\t\t} else {\n\t\t\tthrow new Error('Passed options not a UiOptions instance or object')\n\t\t}\n\t\t\n\t\t$.$addOptions(superOptions)\n\t\t$.$addDescriptors(descriptors)\n\t\t$.$checkPendingOptions(!!base)\n\n\t\treturn $\n\t}\n\n\t$addDescriptors( descriptors ) {\n\t\tfor( const [name, des] of Object.entries(descriptors) ) {\n\t\t\tif( this._options.has(name) ) {\n\t\t\t\tthrow new Error('Duplicate descriptor defined for class option [%s]', name)\n\t\t\t}\n\t\t\tthis._options.set(name, new UiOption(des, name))\n\n\t\t\tObject.defineProperty(this, name, {\n\t\t\t\tenumerable: true,\n\t\t\t\tget: () => this._options.get(name).value()\n\t\t\t})\n\t\t}\n\t}\n\n\t$addOptions( options ) {\n\t\tfor( const [name, option] of Object.entries(options) ) {\n\t\t\tif( this._options.has(name) ) {\n\t\t\t\tthis._options.get(name).value(option)\n\n\t\t\t} else {\n\t\t\t\tif( !this._pending.has(name) ) {\n\t\t\t\t\tthis._pending.set(name, [])\n\t\t\t\t}\n\t\t\t\tthis._pending.get(name).push(option)\n\t\t\t}\n\t\t}\n\t}\n\n\t$checkPendingOptions( base = false ) {\n\t\tfor( const [name, optionList] of this._pending ) {\n\t\t\tif( this._options.has(name) ) {\n\t\t\t\tthis._options.get(name).values(this._pending.get(name), true)\n\t\t\t\tthis._pending.delete(name)\n\t\t\t\n\t\t\t} else if( base ) {\n\t\t\t\tWARN && console.warn('No descriptor defined for class option [%s]', name)\n\t\t\t\t\n\t\t\t\tObject.defineProperty(this, name, {\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tget: () => this._pending.get(name)[0]\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/public/js/options.js","const TOPICS = {\n\tMOUSE_UP: '/input/mouseup',\n\tMOUSE_DOWN: '/input/mousedown',\n\tMOUSE_MOVE: '/input/mousemove',\n\tSCREEN_SIZE: '/screen/size'\n}\n\nexport default Object.freeze(TOPICS)\n\n\n\n\n// WEBPACK FOOTER //\n// ./app/public/js/TOPICS.js","import _ from './utility.js'\nimport mix from './mixin.js'\nimport PubSubMixin from './pubsub.js'\n\nclass Core extends mix(class {}).with(PubSubMixin) {\n\tconstructor( ...args ) {\n\t\tsuper(args)\n\t\tthis._initTopics()\n\t}\n}\n\nexport default new Core() \n\n\n\n// WEBPACK FOOTER //\n// ./app/public/js/core.js","import _, { TYPES } from './utility.js'\nimport UiOptions from './options.js'\n\nconst\n\t{ UNDEF, STR, BOOL, NUM, FN, OBJ, SYM } = TYPES\n\nexport default class UiElement { \n\n\tconstructor( options = {} ) {\n\t\tthis._options = new UiOptions(options, {}, {\n\t\t\tparent: {\n\t\t\t\ttype: HTMLElement,\n\t\t\t\tdflt: null\n\t\t\t},\n\t\t\ttag: {\n\t\t\t\ttype: STR,\n\t\t\t\tdflt: ''\n\t\t\t},\n\t\t\tclasses: {\n\t\t\t\ttype: STR,\n\t\t\t\tdflt: '',\n\t\t\t\tmerge: true\n\t\t\t}\n\t\t}, true)\n\n\t\tlet { parent, tag, classes } = this._options\n\t\t\n\t\tthis.parent(parent)\n\n\t\tif( tag ) {\n\t\t\tthis._el = _.el(tag)\n\n\t\t\tif( classes && this._el ) {\n\t\t\t\t_.cls(this._el, classes)\n\t\t\t}\n\t\n\t\t} else {\n\t\t\tthis._el = null\n\t\t}\n\t}\n\n\t_preRender() {}\n\t_postRender() {}\n\n\trender() {\n\t\tif( this._parent && this._el ) {\n\t\t\tthis._preRender()\n\t\t\t\n\t\t\tthis._parent.append(this._el)\n\n\t\t\tthis._postRender()\n\t\t}\n\t}\n\n\tdetach() {\n\t\tif( this._parent && this._el ) {\n\t\t\tthis._el.remove()\n\t\t}\n\t}\n\n\tel() {\n\t\treturn this._el\n\t}\n\n\tparent( el, render_ = false ) {\n\t\tlet render = render_ || this._parent && this._parent.contains(this._el)\n\t\t\n\t\tif( el === void 0 ) {\n\t\t\treturn this._parent\n\t\t\n\t\t} else if( _.isElement(el) ) {\n\t\t\tthis._parent = el\n\t\t\n\t\t} else if( el === null ) {\n\t\t\tif( this._parent ) {\n\t\t\t\tthis._parent.removeChild(this._el)\n\t\t\t\tthis._parent = null\n\t\t\t}\n\n\t\t} else {\n\t\t\tthrow new Error('Parent must be an element')\n\t\t}\n\n\t\tif( render ) {\n\t\t\tthis.render()\n\t\t}\n\t}\n\n\tposition( x, y, unit = 'px' ) {\n\t\tif( x !== void 0 || y !== void 0 ) {\n\t\t\tif( _.nStr(unit) ) {\n\t\t\t\tthrow new Error('Unit not a string')\n\t\t\t}\n\t\t\t\n\t\t\tif( x !== void 0 ) {\n\t\t\t\tthis._el.style.left = x + unit\n\t\t\t}\n\t\t\t\n\t\t\tif( y !== void 0 ) {\n\t\t\t\tthis._el.style.top = y + unit\n\t\t\t}\n\t\t\n\t\t} else {\n\t\t\tlet rect = _.rect(this._el)\n\t\t\treturn {\n\t\t\t\tx: rect.left,\n\t\t\t\ty: rect.top\n\t\t\t}\n\t\t}\n\t}\n\n\twidth( w, unit = 'px' ) {\n\t\tif( w !== void 0 ) {\n\t\t\tif( _.nStr(unit) ) {\n\t\t\t\tthrow new Error('Unit not a string')\n\t\t\t}\n\t\t\t\n\t\t\tthis._el.style.width = w + unit\n\t\t\n\t\t} else {\n\t\t\treturn _.rect(this._el).width\n\t\t}\n\t}\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./app/public/js/element.js","import T from './TOPICS.js'\nimport CURSOR from './CURSOR.js'\nimport _, { TYPES } from './utility.js'\n\nimport mix from './mixin.js'\nimport PubSubMixin from './pubsub.js'\n\nimport UiElement from './element.js'\nimport UiOptions from './options.js'\nimport Core from './core.js'\n\nconst\n\tLOG = 0,\n\tINFO = 0,\n\tWARN = 0,\n\t{ UNDEF, STR, BOOL, NUM, FN, OBJ, SYM } = TYPES,\n\tMIN_SET_SIZE = 0,\n\tRESIZE_HANDLE_POSITION_LEFT = 'left',\n\tRESIZE_HANDLE_POSITION_RIGHT = 'right',\n\tRESIZE_HANDLE_POSITION_VALUES = [\n\t\tRESIZE_HANDLE_POSITION_LEFT,\n\t\tRESIZE_HANDLE_POSITION_RIGHT \n\t],\n\tSET_CLASS = 'set',\n\tSET_RESIZE_HANDLE_CLASS = 'set-handle-resize-set',\n\tRESIZE_HANDLE_CLASS = 'set-handle-resize',\n\tRESIZE_HANDLE_LEFT_CLASS = 'set-handle-resize-left',\n\tRESIZE_HANDLE_RIGHT_CLASS = 'set-handle-resize-right',\n\tRESIZE_HANDLE_LEFT_SET_CLASS = 'set-handle-resize-left-set',\n\tRESIZE_HANDLE_RIGHT_SET_CLASS = 'set-handle-resize-right-set',\n\tTOPICS = Object.freeze({\n\t\tRESIZE_MOUSE_DOWN_BEFORE: '/event/resize/mousedown/before',\n\t\tRESIZE_MOUSE_DOWN_AFTER: '/event/resize/mousedown/after',\n\t\tRESIZE_MOUSE_UP_BEFORE: '/event/resize/mouseup/before',\n\t\tRESIZE_MOUSE_UP_AFTER: '/event/resize/mouseup/after',\n\t\tRESIZE_MOUSE_DBL_CLICK_BEFORE: '/event/resize/dblclick/before',\n\t\tRESIZE_MOUSE_DBL_CLICK_AFTER: '/event/resize/dblclick/after',\n\t\tRESIZE_MOUSE_MOVE_MAX_LEFT: '/event/resize/mousemove/maxleft',\n\t\tRESIZE_MOUSE_MOVE_MAX_RIGHT: '/event/resize/mousemove/maxright',\n\t\tRESIZE_MOUSE_MOVE_LEFT: '/event/resize/mousemove/left',\n\t\tRESIZE_MOUSE_MOVE_RIGHT: '/event/resize/mousemove/right'\n\t})\n\nexport { TOPICS }\n\nexport default class UiSet extends mix(UiElement).with(PubSubMixin) { \n\n\tstatic makeDefaultResizeHandle() {\n\t\treturn {\n\t\t\tposition: RESIZE_HANDLE_POSITION_LEFT,\n\t\t\tclasses: RESIZE_HANDLE_CLASS \n\t\t}\n\t}\n\t\n\tconstructor( options = {} ) {\n\t\tsuper(new UiOptions(options, {\n\t\t\ttag: 'div',\n\t\t\tclasses: SET_CLASS\n\t\t}, {\n\t\t\titems: {\n\t\t\t\ttype: Array,\n\t\t\t\tdflt: []\n\t\t\t},\n\t\t\tresizeHandle: {\n\t\t\t\ttype: OBJ,\n\t\t\t\tdflt: UiSet.makeDefaultResizeHandle()\n\t\t\t},\n\t\t\tanchorMinWidth: {\n\t\t\t\ttype: BOOL,\n\t\t\t\tdflt: true\n\t\t\t}\n\t\t}))\n\t\t\n\t\tthis._initTopics()\n\n\t\tthis._set = new Set()\n\n\t\tthis._initElements()\n\t\tthis._initCallbacks()\n\t\tthis._initEvents()\n\n\t\tlet { items } = this._options\n\t\t\n\t\tthis._anchor = {\n\t\t\tisAnchored: false,\n\t\t\tanchorMinWidth: !!this._options.anchorMinWidth\n\t\t}\n\n\t\tfor( let item of items ) {\n\t\t\tthis.addItem(item)\n\t\t}\n\n\t\tthis.render()\n\t}\n\n\t_initElements() {\n\t\tlet resizeHandlePositionClass,\n\t\t\t{ resizeHandle } = this._options\n\n\t\tif( resizeHandle ) {\n\t\t\tresizeHandle = Object.assign(UiSet.makeDefaultResizeHandle(), resizeHandle)\n\n\t\t\tif( resizeHandle.position && !RESIZE_HANDLE_POSITION_VALUES.includes(resizeHandle.position) ) {\n\t\t\t\tthrow new Error('Not a valid resize handle position')\n\t\t\t}\n\n\t\t\tif( resizeHandle.position === RESIZE_HANDLE_POSITION_LEFT ) {\n\t\t\t\tresizeHandlePositionClass = RESIZE_HANDLE_LEFT_CLASS\n\t\t\t\t_.addCss(this._el, RESIZE_HANDLE_LEFT_SET_CLASS)\n\t\t\t\tthis._isLeftResizeHandle = true\n\n\t\t\t} else {\n\t\t\t\tresizeHandlePositionClass = RESIZE_HANDLE_RIGHT_CLASS\n\t\t\t\t_.addCss(this._el, RESIZE_HANDLE_RIGHT_SET_CLASS)\n\t\t\t\tthis._isRightResizeHandle = true\n\t\t\t}\n\n\t\t\t_.addCss(this._el, SET_RESIZE_HANDLE_CLASS) \n\n\t\t\tthis._resizeHandle = _(_('div').cls(resizeHandle.classes + ' ' + resizeHandlePositionClass))\n\t\t\tthis._el.append(this._resizeHandle)\n\t\t}\n\t}\n\n\t_initEvents() {\n\t\tif( this._resizeHandle ) {\n\t\t\tthis._resizeHandle.addEventListener('mousedown', this._onMouseDownFn)\n\t\t\tthis._resizeHandle.addEventListener('dblclick', this._onMouseDblClickResizeFn)\n\t\t}\n\t}\n\n\t_initCallbacks() {\n\t\tif( this._resizeHandle ) {\n\t\t\tthis._onMouseDownFn = this._onMouseDown.bind(this)\n\t\t\tthis._onMouseUpFn = this._onMouseUp.bind(this)\n\t\t\tthis._onMouseMoveFn = null\n\t\t\tthis._onMouseDblClickResizeFn = this._onMouseDblClickResizeSet.bind(this)\n\t\t}\n\t}\n\n\t_onMouseDblClickResizeSet( e ) {\n\t\tINFO && console.info('Set: mouse double-click resize set')\n\t\t// ignore if not main button\n\t\tif( e.button ) {\n\t\t\treturn\n\t\t}\n\n\t\tlet w1\n\n\t\tthis.publish(TOPICS.RESIZE_MOUSE_DBL_CLICK_BEFORE, {\n\t\t\tevent: e,\n\t\t\tset: this\n\t\t})\n\n\t\tw1 = this.minWidth()\n\t\t\n\t\tthis.publish(TOPICS.RESIZE_MOUSE_DBL_CLICK_AFTER, {\n\t\t\tevent: e,\n\t\t\tset: this\n\t\t})\n\t}\n\n\t/* todo:\n\t\t1) fix alignment when moving off the browser window\n\t\t2) add right handle drag\n\t*/\n\t_onMouseMoveResizeSet( rData, topic, data ) {\n\t\tINFO && console.info('Set: mouse move resize set, maxLeft: ' + rData.maxLeft\n\t\t\t+ ' maxRight: ' + rData.maxRight + ' dx: ' + data.dx)\n\t\t\n\t\tlet rect1,\n\t\t\trect2,\n\t\t\tleft,\n\t\t\tleftDiff,\n\t\t\twidth,\n\t\t\twidthDiff,\n\t\t\tremainder,\n\t\t\tpubDx,\n\t\t\tminWidth = 0,\n\t\t\tdx = data.dx\n\n\t\tif( this._isLeftResizeHandle ) {\n\t\t\tif( dx < 0 ) {\n\t\t\t\t// accumulate left movement beyond stationary handle\n\t\t\t\tif( typeof rData.maxLeft === 'number' && rData.maxLeft < 0 ) {\n\t\t\t\t\trData.maxLeft += dx\n\n\t\t\t\t\tthis.publish(TOPICS.RESIZE_MOUSE_MOVE_MAX_LEFT, {\n\t\t\t\t\t\tmaxLeft: rData.maxLeft,\n\t\t\t\t\t\tdx: dx,\n\t\t\t\t\t\tset: this\n\t\t\t\t\t})\n\n\t\t\t\t\treturn\n\t\t\t\t\n\t\t\t\t} else if( typeof rData.maxRight === 'number' && rData.maxRight > 0 ) {\n\t\t\t\t\tremainder = rData.maxRight + dx\n\t\t\t\t\t\n\t\t\t\t\t// process overflow of movement\n\t\t\t\t\tif( remainder < 0 ) {\n\t\t\t\t\t\tthis.publish(TOPICS.RESIZE_MOUSE_MOVE_MAX_RIGHT, {\n\t\t\t\t\t\t\tmaxRight: 0,\n\t\t\t\t\t\t\tdx: -1*rData.maxRight,\n\t\t\t\t\t\t\tset: this\n\t\t\t\t\t\t})\n\t\t\t\t\t\tdx = remainder \n\t\t\t\t\t\trData.maxRight = 0\n\t\t\t\t\t\n\t\t\t\t\t} else {\n\t\t\t\t\t\trData.maxRight += dx\n\n\t\t\t\t\t\tthis.publish(TOPICS.RESIZE_MOUSE_MOVE_MAX_RIGHT, {\n\t\t\t\t\t\t\tmaxRight: rData.maxRight,\n\t\t\t\t\t\t\tdx: dx,\n\t\t\t\t\t\t\tset: this\n\t\t\t\t\t\t})\n\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\trect1 = _.rect(this._el)\n\t\t\t\tthis.width(rect1.width - dx)\n\t\t\t\trect2 = _.rect(this._el)\n\n\t\t\t\tleftDiff = rect1.left - rect2.left\n\t\t\t\tremainder = dx + leftDiff\n\t\t\t\t\n\t\t\t\tif( remainder < 0 ) {\n\t\t\t\t\tthis.publish(TOPICS.RESIZE_MOUSE_MOVE_LEFT, {\n\t\t\t\t\t\tdx: dx - remainder,\n\t\t\t\t\t\tset: this\n\t\t\t\t\t})\n\n\t\t\t\t\trData.maxLeft = remainder\n\t\t\t\t\tthis.width(rect2.width + remainder)\n\t\t\t\t\t\n\t\t\t\t\tthis.publish(TOPICS.RESIZE_MOUSE_MOVE_MAX_LEFT, {\n\t\t\t\t\t\tmaxLeft: rData.maxLeft,\n\t\t\t\t\t\tdx: rData.maxLeft,\n\t\t\t\t\t\tset: this\n\t\t\t\t\t})\n\n\t\t\t\t} else {\n\t\t\t\t\tthis.publish(TOPICS.RESIZE_MOUSE_MOVE_LEFT, {\n\t\t\t\t\t\tdx: dx,\n\t\t\t\t\t\tset: this\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\n\t\t\t} else if( dx > 0 ) {\n\t\t\t\tif( typeof rData.maxLeft === 'number' && rData.maxLeft < 0 ) {\n\t\t\t\t\tremainder = rData.maxLeft + dx\n\n\t\t\t\t\t// process overflow of movement\n\t\t\t\t\tif( remainder > 0 ) {\n\t\t\t\t\t\tthis.publish(TOPICS.RESIZE_MOUSE_MOVE_MAX_LEFT, {\n\t\t\t\t\t\t\tmaxLeft: 0,\n\t\t\t\t\t\t\tdx: -1*rData.maxLeft,\n\t\t\t\t\t\t\tset: this\n\t\t\t\t\t\t})\n\t\t\t\t\t\t\n\t\t\t\t\t\tdx = remainder\n\t\t\t\t\t\trData.maxLeft = 0\n\t\t\t\t\t\n\t\t\t\t\t} else {\n\t\t\t\t\t\trData.maxLeft += dx\n\n\t\t\t\t\t\tthis.publish(TOPICS.RESIZE_MOUSE_MOVE_MAX_LEFT, {\n\t\t\t\t\t\t\tmaxLeft: rData.maxLeft,\n\t\t\t\t\t\t\tdx: dx,\n\t\t\t\t\t\t\tset: this\n\t\t\t\t\t\t})\n\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\t} else if( typeof rData.maxRight === 'number' && rData.maxRight > 0 ) {\n\t\t\t\t\trData.maxRight += dx\n\t\t\t\t\t\n\t\t\t\t\tthis.publish(TOPICS.RESIZE_MOUSE_MOVE_MAX_RIGHT, {\n\t\t\t\t\t\tmaxRight: rData.maxRight,\n\t\t\t\t\t\tdx: dx,\n\t\t\t\t\t\tset: this\n\t\t\t\t\t})\n\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t\trect1 = _.rect(this._el)\n\t\t\t\t\n\t\t\t\t// fully close when moving right passed right limit\n\t\t\t\tremainder = dx - (rect1.width - minWidth)\n\t\t\t\tif( remainder > 0 ) {\n\t\t\t\t\trData.maxRight = remainder\n\t\t\t\t\twidth = minWidth\n\t\t\t\t\tpubDx = dx - remainder\n\t\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\twidth = rect1.width - dx\n\t\t\t\t\tpubDx = dx\n\t\t\t\t}\n\n\t\t\t\tthis.width(width)\n\t\t\t\t\t\n\t\t\t\t// properly align with handle when moving left passed right limit\n\t\t\t\trect2 = _.rect(this._el)\n\t\t\t\t\n\t\t\t\twidthDiff = rect1.width - rect2.width\n\t\t\t\tremainder = dx - widthDiff\n\n\t\t\t\tif( remainder > 0 ) {\n\t\t\t\t\trData.maxRight = remainder\n\t\t\t\t\tpubDx = dx - remainder\n\t\t\t\t}\n\n\t\t\t\tthis.publish(TOPICS.RESIZE_MOUSE_MOVE_RIGHT, {\n\t\t\t\t\tdx: pubDx,\n\t\t\t\t\tset: this\n\t\t\t\t})\n\n\t\t\t\tif( rData.maxRight ) {\n\t\t\t\t\tthis.publish(TOPICS.RESIZE_MOUSE_MOVE_MAX_RIGHT, {\n\t\t\t\t\t\tmaxRight: rData.maxRight,\n\t\t\t\t\t\tdx: rData.maxRight,\n\t\t\t\t\t\tset: this\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t_onMouseDown( e ) {\n\t\tINFO && console.info('Set: mouse down resize set')\t\n\t\t// ignore if not main button\n\t\tif( e.button ) {\n\t\t\treturn\n\t\t}\n\t\t\n\t\tthis.publish(TOPICS.RESIZE_MOUSE_DOWN_BEFORE, {\n\t\t\tevent: e,\n\t\t\tset: this\n\t\t})\n\n\t\te.preventDefault()\n\t\te.stopPropagation()\n\n\t\tthis._cursor(CURSOR.RESIZE_WIDTH)\n\n\t\tthis._onMouseMoveFn = this._onMouseMoveResizeSet.bind(this, {\n\t\t\tevent: e,\n\t\t\toffsetX: e.offsetX,\n\t\t\toffsetY: e.offsetY\n\t\t})\n\t\t\n\t\tCore.subscribe(T.MOUSE_MOVE, this._onMouseMoveFn)\n\t\tCore.subscribe(T.MOUSE_UP, this._onMouseUpFn)\n\t}\n\t\n\t_onMouseUp( topic, data ) {\n\t\tINFO && console.info('Set: mouse up resize set')\n\t\t// ignore if not main button\n\t\tif( data.event.button ) {\n\t\t\treturn\n\t\t}\n\n\t\tdata.event.stopPropagation()\n\n\t\tthis._cursor(CURSOR.DEFAULT)\n\n\t\tCore.unsubscribe(T.MOUSE_UP, this._onMouseUpFn)\n\t\tCore.unsubscribe(T.MOUSE_MOVE, this._onMouseMoveFn)\n\n\t\tthis.publish(TOPICS.RESIZE_MOUSE_UP_AFTER, {\n\t\t\tevent: data.event,\n\t\t\tset: this\n\t\t})\n\t}\n\n\t_cursor( cursor ) {\n\t\tdocument.body.style.cursor = cursor\n\t}\n\n\tisAnchored() {\n\t\treturn this._anchor.isAnchored\n\t}\n\n\tanchor( a = true ) {\n\t\tthis._anchor.isAnchored = !!a\n\t}\n\n\twidth( w, unit = 'px', flex = 'none' ) {\n\t\tlet ret\n\t\t\n\t\tif( w !== void 0 && unit === '%' && this.isAnchored() ) {\n\t\t\tWARN && console.warn('Percentage width request on anchored set ignored')\n\t\t\treturn\n\t\t}\n\t\t\n\t\tret = super.width(w, unit)\n\n\t\tif( ret !== void 0 ) {\n\t\t\treturn ret\n\t\t}\n\n\t\tthis._el.style.flex = flex\n\t}\n\n\tdiffWidth( w ) {\n\t\tlet w2,\n\t\t\tw1,\n\t\t\tw0 = this.width()\n\t\t\n\t\t// no width request = minimum possible width\n\t\tif( w === void 0 ) {\n\t\t\tw2 = 0\n\t\t\t\t\n\t\t} else {\n\t\t\tw2 = w0 + w\n\t\t}\n\n\t\t// don't allow negative widths\n\t\tif( w2 < 0 ) {\n\t\t\tw2 = 0\n\t\t}\n\n\t\tthis.width(w2)\n\n\t\tw1 = this.width()\n\n\t\t// keep style width and actual width =\n\t\tif( w1 !== w2 ) {\n\t\t\tthis.width(w1)\n\t\t}\n\n\t\treturn w1 - w0\n\t}\n\n\tminWidth() {\n\t\tlet w = this.calcContentWidth()\n\t\tthis.width(w)\n\n\t\tif( !this.isAnchored() ) {\n\t\t\tthis.anchor()\n\t\t}\n\n\t\treturn w\n\t}\n\n\tcalcContentWidth() {\n\t\tlet last = this._el.lastElementChild,\n\t\t\tleft = _.rect(this._el).left,\n\t\t\tright = _.rect(last).right,\n\t\t\trightMargin = parseInt(_.style(last).marginRight)\n\n\t\treturn right + rightMargin - left\n\t}\n\n\tflexWidth() {\n\t\tif( this.isAnchored() ) {\n\t\t\tWARN && console.warn('Width request on anchored set ignored')\n\t\t\treturn\n\t\t}\n\t\t\n\t\tthis._el.style.width = 'unset'\n\t\tthis._el.style.flex = 'inherit'\n\t}\n\n\tflexScaleWidth() {\n\t\tif( this.isAnchored() ) {\n\t\t\tWARN && console.warn('Width request on anchored set ignored')\n\t\t\treturn\n\t\t}\n\t\t\n\t\tthis._el.style.flex = '1 1 auto'\n\t}\n\n\taddItem( item ) {\n\t\tif( !this._set.has(item) ) {\n\t\t\tthis._set.add(item)\n\t\t\titem.parent(this._el)\n\t\t\n\t\t} else {\n\t\t\tWARN && console.warn('Item already in set')\n\t\t}\n\t}\n\n\tremoveItem( item ) {\n\t\tif( this._set.has(item) ) {\n\t\t\tthis._set.remove(item)\n\t\t\titem.parent(null)\n\t\t\n\t\t} else {\n\t\t\tWARN && console.warn('Item not in set')\n\t\t}\n\t}\n\n\trender() {\n\t\tsuper.render()\n\t\t\n\t\tfor( let item of this._set ) {\n\t\t\titem.render()\n\t\t}\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/public/js/set.js","const CURSOR = {\n\tDEFAULT: 'default',\n\tDRAG: 'move',\n\tRESIZE_WIDTH: 'col-resize'\n}\n\nexport default Object.freeze(CURSOR)\n\n\n\n\n// WEBPACK FOOTER //\n// ./app/public/js/CURSOR.js","class mixin {\n\tconstructor(superclass) {\n\t\tthis.superclass = superclass\n\t}\n\n\twith(...mixins) {\n\t\treturn mixins.reduce(( c, mixin ) => mixin(c), this.superclass)\n\t}\n}\n\nexport default ( superclass ) => new mixin(superclass)\n\n\n\n\n// WEBPACK FOOTER //\n// ./app/public/js/mixin.js","import _ from './utility.js'\n\nexport default ( superclass ) => class extends superclass {\n\n\t_initTopics() {\n\t\tif( this._topics ) {\n\t\t\treturn\n\t\t}\n\t\tthis._topics = new Map()\n\t}\n\t\n\t_makeTopic( data ) {\n\t\treturn {\n\t\t\tdata: data,\n\t\t\tsubscribers: []\n\t\t}\n\t}\n\n\t_addTopic( name, initialData ) {\n\t\tif( !this._topics.has(name) ) {\n\t\t\tthis._topics.set(name, this._makeTopic(initialData))\n\t\t}\n\n\t\treturn this._topics.get(name)\n\t}\n\n\tpublish( name, data ) {\n\t\tlet topic\n\t\t\n\t\tif( _.nStr(name) ) {\n\t\t\tthrow new Error('Topic name required to publish')\n\t\t}\n\n\t\tif( this._topics.has(name) ) {\n\t\t\ttopic = this._topics.get(name)\n\t\t\n\t\t\tfor( let fn of topic.subscribers ) {\n\t\t\t\tfn(topic, data)\n\t\t\t}\n\n\t\t} else {\n\t\t\ttopic = this._addTopic(name)\n\t\t}\n\n\t\ttopic.data = data\n\t}\n\t\n\tsubscribe( name, fn, callImmediately = false ) {\n\t\tlet topic\n\n\t\tif( _.nStr(name) ) {\n\t\t\tthrow new Error('Topic name required to subscribe')\n\t\t}\n\n\t\tif( _.nFn(fn) ) {\n\t\t\tthrow new Error('Function required to subscribe')\n\t\t}\n\t\t\n\t\tif( this._topics.has(name) ) {\n\t\t\ttopic = this._topics.get(name)\n\t\t\n\t\t\tif( topic.data !== void 0 && callImmediately ) {\n\t\t\t\tfn(name, topic.data)\n\t\t\t}\n\t\t\n\t\t} else {\n\t\t\ttopic = this._addTopic(name)\n\t\t}\n\n\t\ttopic.subscribers.push(fn)\n\t}\n\n\tunsubscribe( name, fn ) {\n\t\tlet topic\n\n\t\tif( _.nStr(name) ) {\n\t\t\tthrow new Error('Topic name required to unsubscribe')\n\t\t}\n\n\t\tif( _.nFn(fn) ) {\n\t\t\tthrow new Error('Function required to unsubscribe')\n\t\t}\n\n\t\tif( this._topics.has(name) ) {\n\t\t\tlet index,\n\t\t\t\ttopic = this._topics.get(name)\n\t\t\t\t\n\t\t\twhile( (index = topic.subscribers.indexOf(fn)) > -1 ) {\n\t\t\t\ttopic.subscribers.splice(index, 1)\n\t\t\t}\n\t\t}\n\t}\n\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./app/public/js/pubsub.js","import _ from './utility.js'\nimport UiOptions from './options.js'\nimport UiElement from './element.js'\n\nexport default class UiIcon extends UiElement { \n\n\tconstructor( options = {} ) {\n\t\tsuper(new UiOptions(options, {\n\t\t\ttag: 'div',\n\t\t\tclasses: 'icon icon-svg'\n\t\t}))\n\n\t\tthis.render()\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/public/js/icon.js","import T from './TOPICS.js'\nimport _ from './utility.js'\nimport UiElement from './element.js'\nimport UiOptions from './options.js'\nimport Core from './core.js'\n\nconst RESIZE_THROTTLE = 60 //ms\n\nexport default class UiScreen extends UiElement { \n\n\tconstructor( options = {} ) {\n\t\tsuper(new UiOptions(options, {\n\t\t\ttag: 'div',\n\t\t\tclasses: 'screen'\n\t\t}))\n\n\t\tthis._resizeTimeout = null\n\n\t\tthis._initEvents()\n\t\tthis.render()\n\t}\n\n\t_postRender() {\n\t\tCore.publish(T.SCREEN_SIZE, {\n\t\t\twidth: this._el.offsetWidth,\n\t\t\theight: this._el.offsetHeight\n\t\t})\n\t}\n\n\t_initEvents() {\n\t\twindow.addEventListener('resize', this._resizeThrottler.bind(this))\n\t\t\n\t\tdocument.addEventListener('mouseup', this._onMouseUp.bind(this))\n\t\tdocument.addEventListener('mousemove', this._onMouseMove.bind(this))\n\t}\n\n\t_resizeThrottler() {\n\t\tif( !this._resizeTimeout ) {\n\t\t\tthis._resizeTimeout = setTimeout(this._onResize.bind(this), RESIZE_THROTTLE)\n\t\t}\n\t}\n\t\n\t_onResize() {\n\t\tthis._resizeTimeout = null\n\n\t\tCore.publish(T.SCREEN_SIZE, {\n\t\t\twidth: this._el.offsetWidth,\n\t\t\theight: this._el.offsetHeight\n\t\t})\n\t}\n\n\t_onMouseUp(e) {\n\t\tCore.publish(T.MOUSE_UP, {\n\t\t\tevent: e,\n\t\t\tx: e.x,\n\t\t\ty: e.y\n\t\t})\n\t}\n\n\t_onMouseMove(e) {\n\t\tCore.publish(T.MOUSE_MOVE, {\n\t\t\tevent: e,\n\t\t\tx: e.x,\n\t\t\ty: e.y,\n\t\t\tdx: e.movementX,\n\t\t\tdy: e.movementY\n\t\t})\n\t}\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./app/public/js/screen.js","import T from './TOPICS.js'\nimport { TOPICS as T_SET } from './set.js'\nimport CURSOR from './CURSOR.js'\n\nimport _ from './utility.js'\nimport UiOptions from './options.js'\nimport UiElement from './element.js'\nimport UiSet from './set.js'\nimport Core from './core.js'\n\nconst\n\tINFO = 0,\n\tWARN = 0,\n\tSNAP_THRESHOLD = 15,\n\tDEFAULT_WIDTH = 400,\n\tMIN_FLEX_WIDTH = 2\n\nexport default class UiToolbar extends UiElement { \n\n\tconstructor( options = {} ) {\n\t\tsuper(new UiOptions(options, {\n\t\t\ttag: 'div',\n\t\t\tclasses: 'toolbar'\n\t\t}, {\n\t\t\tsets: {\n\t\t\t\ttype: Array,\n\t\t\t\tdflt: []\n\t\t\t}\n\t\t}))\n\n\t\tlet { sets } = this._options\n\n\t\tthis._sets = []\n\t\tthis._anchors = null\n\t\tthis._flex = null\n\t\tthis._undockedWidth = DEFAULT_WIDTH\n\t\tthis._screenSize = {\n\t\t\twidth: 0,\n\t\t\theight: 0\n\t\t}\n\n\t\tthis._initCallbacks()\n\t\tthis._initSubscriptions()\n\t\tthis._initElements()\n\t\t\n\t\tsets.length && this.addSets(sets)\n\t\t\n\t\tthis._initEvents()\n\n\t\tthis.render()\n\t}\n\n\t_initElements() {\n\t\tthis._leftHandle = _(_('div').cls('handle left-handle'))\n\t\tthis._rightHandle = _(_('div').cls('handle right-handle'))\n\t\tthis._flex = _(_('div').cls('toolbar-flex'))\n\n\t\tthis._el.append(this._leftHandle, this._flex, this._rightHandle)\n\n\t\tthis._dock(0, 0)\n\t}\n\t\n\t_initCallbacks() {\n\t\t// shared data for resize set before/after\n\t\tlet upDownResizeSetData = {},\n\t\t\tdblClickResizeSetData = {}\n\n\t\tthis._onMouseDownFn = this._onMouseDown.bind(this)\n\t\tthis._onDblClickFn = this._onDblClick.bind(this)\n\t\tthis._onMouseUpFn = this._onMouseUp.bind(this)\n\t\tthis._onMouseMoveFn = null\n\t\tthis._onScreenResizeFn = this._onScreenResize.bind(this)\n\n\t\tthis._onMouseDownResizeSetBeforeFn =\n\t\t\tthis._onMouseDownResizeSetBefore.bind(this, upDownResizeSetData)\n\t\tthis._onMouseUpResizeSetAfterFn =\n\t\t\tthis._onMouseUpResizeSetAfter.bind(this, upDownResizeSetData)\n\t\tthis._onMouseDblClickResizeSetBeforeFn =\n\t\t\tthis._onMouseDblClickResizeSetBefore.bind(this, dblClickResizeSetData)\n\t\tthis._onMouseDblClickResizeSetAfterFn =\n\t\t\tthis._onMouseDblClickResizeSetAfter.bind(this, dblClickResizeSetData)\n\n\t\tthis._onMouseMoveResizeSetFn = this._onMouseMoveResizeSet.bind(this) // left and right\n\t\tthis._onMouseMoveResizeSetMaxFn = null // left and right\n\t}\n\n\t_initSubscriptions() {\n\t\tCore.subscribe(T.SCREEN_SIZE, this._onScreenResizeFn, true)\n\t}\n\n\t_initEvents() {\n\t\tthis._el.addEventListener('mousedown', this._onMouseDownFn)\n\t\tthis._leftHandle.addEventListener('dblclick', this._onDblClickFn)\n\t\tthis._rightHandle.addEventListener('dblclick', this._onDblClickFn)\n\t}\n\n\t// rData = reentry data with initial mousedown toolbar offset\n\t_onMouseMoveDragToolbar( rData, topic, data ) {\n\t\tINFO && console.info('Toolbar: mouse move drag')\n\t\tconst T = SNAP_THRESHOLD,\n\t\t\t  B = this._screenSize.height - SNAP_THRESHOLD\n\n\t\t\t// mousemove from top left of document\n\t\tlet\tmouseX = data.x,\n\t\t\tmouseY = data.y,\n\t\t\t// mousedown from top left of toolbar element\n\t\t\tmouseDownX = rData.offsetX,\n\t\t\tmouseDownY = rData.offsetY,\n\n\t\t\tscreenHeight = this._screenSize.height,\n\n\t\t\ttoolbarHeight = this._el.offsetHeight,\n\t\t\ttoolbarWidth = this._el.offsetWidth,\n\n\t\t\t// next toolbar location based on this event, unless adjusted below\n\t\t\ttoolbarLeft = mouseX - mouseDownX,\n\t\t\ttoolbarTop = mouseY - mouseDownY,\n\t\t\ttoolbarBottom = toolbarTop + toolbarHeight\n\n\t\tif( this._isDocked ) {\n\t\t\tif( toolbarTop > T && toolbarBottom < B ) {\n\t\t\t\t// keep length of bar on either side of mouse proportional when undocking (initial)\n\t\t\t\trData.dockedOffsetX = rData.offsetX\n\t\t\t\trData.offsetX = Math.round(mouseDownX/toolbarWidth * this._undockedWidth)\n\n\t\t\t\ttoolbarLeft = mouseX - rData.offsetX\n\n\t\t\t\tthis._undock(toolbarLeft, toolbarTop)\n\t\t\t}\n\n\t\t} else if( toolbarTop <= T || toolbarBottom >= B ) {\n\t\t\t// assume first condition\n\t\t\tlet y = 0\n\t\t\t\n\t\t\tif( toolbarBottom >= B ) {\n\t\t\t\ty = screenHeight - toolbarHeight\n\t\t\t}\n\t\t\t\n\t\t\tthis._dock(0, y)\n\n\t\t\t// after undocking, maintain proportionality when continuously docking/undocking\n\t\t\tif( rData.dockedOffsetX ) {\n\t\t\t\trData.offsetX = rData.dockedOffsetX\n\t\t\t// keep length of bar on either side of mouse proportional when docking (initial)\n\t\t\t} else {\n\t\t\t\trData.offsetX = Math.round(mouseDownX/toolbarWidth * this._screenSize.width)\n\t\t\t}\n\n\t\t} else {\n\t\t\tthis.position(toolbarLeft, toolbarTop)\n\t\t}\n\t}\n\n\t_onMouseMoveResizeToolbar( rData, topic, data ) {\n\t\tINFO && console.info('Toolbar: mouse move resize toolbar')\n\t\tlet dx = 0,\n\t\t\trightHandleLeft = this._rightHandle.offsetLeft,\n\t\t\ttoolbarLeft = this._el.offsetLeft,\n\t\t\ttoolbarWidth = this._el.offsetWidth,\n\t\t\tflexWidth = this._flex.offsetWidth\n\n\t\tthis._flexSetWidth()\n\t\tif( rData.event.target === this._leftHandle ) {\n\t\t\t// limit right movement to minimum size\n\t\t\tif( data.dx > 0 && flexWidth > MIN_FLEX_WIDTH ) {\n\t\t\t\tif( flexWidth - data.dx < MIN_FLEX_WIDTH ) {\n\t\t\t\t\tdx = flexWidth - MIN_FLEX_WIDTH\n\t\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\tdx = data.dx\n\t\t\t\t}\n\n\t\t\t// limit left movement to cursor being left of or aligned with mousedown of handle\n\t\t\t} else if( data.dx < 0 && toolbarLeft + rData.offsetX >= data.x ) {\n\t\t\t\tdx = data.dx\n\t\t\t}\n\t\t\t\n\t\t\tif( dx !== 0 ) {\n\t\t\t\tthis.position(toolbarLeft + dx)\n\t\t\t\tthis.width(toolbarWidth - dx)\n\t\t\t}\n\n\t\t} else if( rData.event.target === this._rightHandle ) {\n\t\t\t// limit left movement to minimum size\n\t\t\tif( data.dx < 0 && flexWidth > MIN_FLEX_WIDTH ) {\n\t\t\t\tif( flexWidth + data.dx < MIN_FLEX_WIDTH ) {\n\t\t\t\t\tdx = MIN_FLEX_WIDTH - flexWidth\n\n\t\t\t\t} else {\n\t\t\t\t\tdx = data.dx\n\t\t\t\t}\n\n\t\t\t// limit right movement to cursor being right of or aligned with mousedown of handle\n\t\t\t} else if( data.dx > 0 && toolbarLeft + rightHandleLeft + rData.offsetX <= data.x ) {\n\t\t\t\tdx = data.dx\n\t\t\t}\n\t\t\t\n\t\t\tif( dx !== 0 ) {\n\t\t\t\tthis.width(toolbarWidth + dx)\n\t\t\t}\n\t\t}\n\t}\n\n\t_onMouseUp( topic, data ) {\n\t\tINFO && console.info('Toolbar: mouse up')\n\t\t// ignore if not main button\n\t\tif( data.event.button ) {\n\t\t\treturn\n\t\t}\n\n\t\tthis._cursor(CURSOR.DEFAULT)\n\n\t\tthis._pixelSetWidth()\n\n\t\tCore.unsubscribe(T.MOUSE_UP, this._onMouseUpFn)\n\t\tCore.unsubscribe(T.MOUSE_MOVE, this._onMouseMoveFn)\n\t}\n\n\t_onDblClick( e ) {\n\t\tINFO && console.info('Toolbar: mouse double-click')\n\t\t// ignore if not main button\n\t\tif( e.button ) {\n\t\t\treturn\n\t\t}\n\n\t\tlet minWidth,\n\t\t\tdx,\n\t\t\trect = _.rect(this._el),\n\t\t\tleft = rect.left,\n\t\t\twidth = rect.width,\n\t\t\toverflow = 0\n\n\t\tif( e.target === this._leftHandle ) {\n\t\t\tminWidth = this.minWidth()\n\t\t\tdx = width - minWidth\n\n\t\t\tleft = left + dx\n\t\t\t\n\t\t\tif( left < 0 ) {\n\t\t\t\toverflow = left\n\t\t\t\tleft = 0\n\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\tthis.position(left)\n\t\t\t\n\t\t} else if( e.target === this._rightHandle ) {\n\t\t\tthis.minWidth()\n\t\t}\n\t}\n\n\t_onMouseMoveResizeSet( rData, topic, data ) {\n\t\tINFO && console.info('Toolbar: mouse move resize set')\n\t}\n\n\t// todo: optimize with minimization state or reentry\n\t_onMouseMoveResizeSetMax( rData, topic, data ) {\n\t\tlet\tdw,\tr, dir,\tj, J, a, A,\n\t\t\tisMaxLeft,\n\t\t\tisMaxRight,\n\t\t\t{ accumulators: acc } = rData,\n\t\t\t{ dx, set, maxLeft, maxRight } = data,\n\t\t\tsets = this._sets,\n\t\t\tsetIndex = sets.indexOf(set) \n\t\t\n\t\tINFO && console.info('Toolbar: mouse move resize set max, maxLeft: ' + maxLeft + ' maxRight: ' + maxRight)\n\n\t\tisMaxLeft = _.isDef(maxLeft)\n\t\tisMaxRight = _.isDef(maxRight)\n\n\t\t// left/right normalization\n\t\tif( isMaxRight ) {\n\t\t\tj = setIndex + 1\t\t// first set index\n\t\t\tJ = sets.length - 1\t\t// last set index\n\t\t\tdir = 1\t\t\t\t\t// left/right\n\t\t\ta = 0\t\t\t\t\t// first acc index\n\t\t\tA = J - j + 1\t\t\t// last acc index\n\t\t\n\t\t} else if( isMaxLeft ) {\n\t\t\tj = setIndex - 1\n\t\t\tJ = 0\n\t\t\tdir = -1\n\t\t\ta = 0\n\t\t\tA = j + 1\n\n\t\t} else {\n\t\t\treturn\n\t\t}\n\t\t\n\t\t// contract\n\t\tif( isMaxLeft && dx < 0 || isMaxRight && dx > 0 ) {\n\t\t\tdx *= dir\n\n\t\t\twhile( dx !== 0 ) {\n\t\t\t\tif( a === A ) {\n\t\t\t\t\tacc[A] += dx\n\t\t\t\t\tbreak\n\t\t\t\t}\n\n\t\t\t\tdw = sets[j].diffWidth(-1*dx)\n\t\t\t\tdx = dx + dw\n\n\t\t\t\tacc[a] -= dw \n\n\t\t\t\tj += dir\n\t\t\t\ta += 1\n\t\t\t}\n\t\t\n\t\t// expand\n\t\t} else if( isMaxLeft && dx > 0 || isMaxRight && dx < 0 ) {\n\t\t\tdx *= dir\n\n\t\t\ta = A\n\t\t\t// check end accumulator\n\t\t\tif( acc[a] ) {\n\t\t\t\tr = acc[a] + dx\n\t\t\t\t\n\t\t\t\tif( r < 0 ) {\n\t\t\t\t\tdx = r\n\t\t\t\t\tacc[a] = 0\n\t\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\tacc[a] += dx\n\t\t\t\t\tdx = 0\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tj = J\n\t\t\ta -= 1\n\t\t\tdir *= -1\n\n\t\t\t// skip empty accumulators\n\t\t\twhile( a >= 0 && acc[a] === 0 ) {\n\t\t\t\tj += dir\n\t\t\t\ta -= 1\n\t\t\t}\n\n\t\t\t// deaccumulate\n\t\t\twhile( a >= 0 && dx !== 0 ) {\n\t\t\t\tr = acc[a] + dx\n\t\t\t\t\n\t\t\t\tif( r < 0 ) {\n\t\t\t\t\tdw = sets[j].diffWidth(acc[a])\n\t\t\t\t\tdx = r\n\t\t\t\t\tacc[a] = 0\n\t\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\tdw = sets[j].diffWidth(-1*dx)\n\t\t\t\t\tacc[a] -= dw\n\t\t\t\t\tdx = dw + dx\n\t\t\t\t}\n\n\t\t\t\tj += dir\n\t\t\t\ta -= 1\n\t\t\t}\n\n\t\t}\n\n\t\tif( maxLeft === 0 ) {\n\t\t\tset.width(set.width())\n\t\t\tsets[setIndex - 1].flexWidth()\n\t\t}\n\n\t\tif( isMaxLeft && data.dx < 0 ) {\n\t\t\tset.flexWidth()\n\t\t}\n\t}\n\n\t_onMouseDownResizeSetBefore( sData, topic, data ) {\n\t\tINFO && console.info('Toolbar: mouse down resize set before')\n\t\t\t\t\n\t\tlet { event, set } = data,\n\t\t\tsetIndex = this._sets.indexOf(set)\n\n\t\tthis._pixelSetWidth()\n\t\t\n\t\tthis._sets[setIndex - 1].flexWidth()\n\n\t\tthis._onMouseMoveResizeSetFn = this._onMouseMoveResizeSet.bind(this, {})\n\n\t\tthis._onMouseMoveResizeSetMaxFn = this._onMouseMoveResizeSetMax.bind(this, {\n\t\t\taccumulators: new Array(this._sets.length + 2).fill(0)\n\t\t})\n\n\t\tset.subscribe(T_SET.RESIZE_MOUSE_MOVE_LEFT, this._onMouseMoveResizeSetFn)\n\t\tset.subscribe(T_SET.RESIZE_MOUSE_MOVE_RIGHT, this._onMouseMoveResizeSetFn)\n\t\tset.subscribe(T_SET.RESIZE_MOUSE_MOVE_MAX_LEFT, this._onMouseMoveResizeSetMaxFn)\n\t\tset.subscribe(T_SET.RESIZE_MOUSE_MOVE_MAX_RIGHT, this._onMouseMoveResizeSetMaxFn)\n\t}\n\n\t_onMouseUpResizeSetAfter( sData, topic, data ) {\n\t\tINFO && console.info('Toolbar: mouse up resize set after')\n\n\t\tlet { event, set } = data\n\t\t\n\t\tthis._pixelSetWidth()\n\n\t\tset.unsubscribe(T_SET.RESIZE_MOUSE_MOVE_MAX_LEFT, this._onMouseMoveResizeSetMaxFn)\n\t\tset.unsubscribe(T_SET.RESIZE_MOUSE_MOVE_MAX_RIGHT, this._onMouseMoveResizeSetMaxFn)\n\t\tset.unsubscribe(T_SET.RESIZE_MOUSE_MOVE_LEFT, this._onMouseMoveResizeSetFn)\n\t\tset.unsubscribe(T_SET.RESIZE_MOUSE_MOVE_RIGHT, this._onMouseMoveResizeSetFn)\n\t}\n\n\t_onMouseDblClickResizeSetBefore( sData, topic, data ) {\n\t\tINFO && console.info('Toolbar: mouse double-click resize set ')\n\n\t\tlet flexSet,\n\t\t\t{ event, set } = data,\n\t\t\tsetIndex = this._sets.indexOf(set),\n\t\t\ti = setIndex\n\n\t\t// look for unanchored set to the left\t\n\t\twhile( --i > -1 ) {\n\t\t\tflexSet = this._sets[i]\n\t\t\tif( !flexSet.isAnchored() ) {\n\t\t\t\tflexSet.flexWidth()\n\t\t\t\tsData.flexSet = flexSet\n\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\n\t\t// force set to the left if none\n\t\tif( i === -1 && setIndex - 1 > -1 ) {\n\t\t\tflexSet = this._sets[setIndex - 1]\n\t\t\tflexSet.anchor(false)\n\t\t\tflexSet.flexWidth()\n\t\t\tsData.flexSet = flexSet\n\t\t\tsData.isFlexAnchor = true\n\t\t}\n\t}\n\n\t_onMouseDblClickResizeSetAfter( sData, topic, data ) {\n\t\tlet { flexSet, isFlexAnchor } = sData\n\t\t\n\t\tif( flexSet ) {\n\t\t\tif( isFlexAnchor ) {\n\t\t\t\tflexSet.anchor()\n\t\t\t}\n\t\t\tflexSet.width(flexSet.width())\n\t\t}\n\t}\n\n\t_onMouseDown( e ) {\n\t\tINFO && console.info('Toolbar: mouse down')\n\t\tlet sets = Array.prototype.slice.call(this._flex.children)\n\n\t\t// ignore if not main button\n\t\tif( e.button ) {\n\t\t\treturn\n\t\t}\n\n\t\t// temporary to enable dragging while developing sets\n\t\tif( e.target === this._leftHandle || e.target === this._rightHandle ) {\n\t\t\tthis._cursor(CURSOR.RESIZE_WIDTH)\n\t\t\t\n\t\t\tthis._flexSetWidth()\n\t\t\tthis._onMouseMoveFn = this._onMouseMoveResizeToolbar.bind(this, {\n\t\t\t\tevent: e,\n\t\t\t\toffsetX: e.offsetX,\n\t\t\t\toffsetY: e.offsetY\n\t\t\t})\n\n\t\t} else if( e.currentTarget === this._el && sets.includes(e.target) ) {\n\t\t\tthis._cursor(CURSOR.DRAG)\n\t\t\t\n\t\t\tthis._flexSetWidth()\n\t\t\tthis._onMouseMoveFn = this._onMouseMoveDragToolbar.bind(this, {\n\t\t\t\tevent: e,\n\t\t\t\toffsetX: e.offsetX + e.target.offsetLeft,\n\t\t\t\toffsetY: e.offsetY\n\t\t\t})\n\t\t\n\t\t} else if( e.target === this._flex ) {\n\t\t\tthis._cursor(CURSOR.DRAG)\n\n\t\t\tthis._onMouseMoveFn = this._onMouseMoveDragToolbar.bind(this, {\n\t\t\t\tevent: e,\n\t\t\t\toffsetX: e.offsetX,\n\t\t\t\toffsetY: e.offsetY\n\t\t\t})\n\t\t\n\t\t} else {\n\t\t\treturn\n\t\t}\n\t\t\t\n\t\t// prevents drag (mousemove) halting when mouseup happens over child of toolbar\n\t\t// but mousedown originates on toolbar\n\t\te.preventDefault()\n\n\t\tCore.subscribe(T.MOUSE_MOVE, this._onMouseMoveFn)\n\t\tCore.subscribe(T.MOUSE_UP, this._onMouseUpFn)\n\t}\n\n\t_onScreenResize( topic, data ) {\n\t\tthis._screenSize.height = data.height\n\t\tthis._screenSize.width = data.width\n\n\t\tif( this._isDocked ) {\n\t\t\tthis.width(data.width)\n\t\t}\n\t}\n\n\t_saveAnchors( remove = false ) {\n\t\tlet v\n\t\tthis._anchors = []\n\n\t\tfor( let set of this._sets ) {\n\t\t\tv = set.isAnchored()\n\t\t\tthis._anchors.push(v)\n\t\t\tv && remove && set.anchor(false)\n\t\t}\n\t}\n\n\t_loadAnchors( setWidth = false ) {\n\t\tfor( let [i, set] of this._sets.entries() ) {\n\t\t\tif( this._anchors[i] ) {\n\t\t\t\tset.anchor()\n\t\t\t\tsetWidth && set.width(set.width())\n\t\t\t}\n\t\t}\n\t}\n\n\t_hideHandles() {\n\t\t_.addCss(this._leftHandle, 'hide-handle')\n\t\t_.addCss(this._rightHandle, 'hide-handle')\n\t}\n\n\t_showHandles() {\n\t\t_.removeCss(this._leftHandle, 'hide-handle')\n\t\t_.removeCss(this._rightHandle, 'hide-handle')\n\t}\n\n\t_dock( x, y ) {\n\t\tthis._flexSetWidth()\n\t\tthis._saveUndockedWidth()\n\t\tthis.position(x, y)\n\t\tthis.width(this._screenSize.width)\n\t\t_.addCss(this._el, 'toolbar-docked')\n\t\tthis._hideHandles()\n\t\tthis._pixelSetWidth()\n\t\tthis._isDocked = true\n\t}\n\n\t_undock( x, y ) {\n\t\tthis._flexSetWidth()\n\t\tthis.position(x, y)\n\t\tthis.width(this._undockedWidth)\n\t\t_.removeCss(this._el, 'toolbar-docked')\n\t\tthis._showHandles()\n\t\tthis._pixelSetWidth()\n\t\tthis._isDocked = false\n\t}\n\n\t_cursor( cursor ) {\n\t\tdocument.body.style.cursor = cursor\n\t}\n\n\t_saveUndockedWidth() {\n\t\tif( this._el.offsetWidth ) {\n\t\t\tthis._undockedWidth = this._el.offsetWidth\n\t\t}\n\t}\n\n\t_flexSetWidth() {\n\t\tfor( let set of this._sets ) {\n\t\t\tset.flexScaleWidth()\n\t\t}\n\t}\n\n\t_pixelSetWidth() {\n\t\tfor( let set of this._sets ) {\n\t\t\tset.width(set.width())\n\t\t}\n\t}\n\n\t_percentSetWidth() {\n\t\tlet containerWidth = this._calcContainerWidth()\n\n\t\tfor( let set of this._sets ) {\n\t\t\tset.width(set.width()/containerWidth * 100, '%')\n\t\t}\n\t}\n\n\t_calcContentWidth() {\n\t\tlet w = 0\n\t\t\n\t\tfor( let set of this._sets ) {\n\t\t\tw += set.calcContentWidth()\n\t\t}\n\n\t\treturn w\n\t}\n\n\t_calcContainerWidth() {\n\t\treturn _.rect(this.container()).width\n\t}\n\n\t_calcMinWidth() {\n\t\treturn this._calcContentWidth() + this._calcHandleWidth()\n\t}\n\n\t_calcHandleWidth() {\n\t\tlet w = 0\n\n\t\tif( this._leftHandle ) {\n\t\t\tw += _.rect(this._leftHandle).width\n\t\t}\n\n\t\tif( this._rightHandle ) {\n\t\t\tw += _.rect(this._rightHandle).width\n\t\t}\n\n\t\treturn w\n\t}\n\n\tminWidth() {\n\t\tlet\tw = 0\n\t\t\n\t\tfor( let set of this._sets ) {\n\t\t\tw += set.minWidth()\n\t\t}\n\n\t\tw += this._calcHandleWidth()\n\n\t\tthis.width(w)\n\n\t\treturn w\n\t}\n\n\tcontainer() {\n\t\treturn this._flex\n\t}\n\n\taddSet( set, render = false ) {\n\t\tif( set instanceof UiSet ) {\n\t\t\tif( this._sets.includes(set) ) {\n\t\t\t\tWARN && console.warn('Set already in toolbar')\n\n\t\t\t} else {\n\t\t\t\tthis._sets.push(set)\n\t\t\t\tset.parent(this.container(), !!render)\n\t\t\t\tset.subscribe(T_SET.RESIZE_MOUSE_DOWN_BEFORE, this._onMouseDownResizeSetBeforeFn)\n\t\t\t\tset.subscribe(T_SET.RESIZE_MOUSE_UP_AFTER, this._onMouseUpResizeSetAfterFn)\n\t\t\t\tset.subscribe(T_SET.RESIZE_MOUSE_DBL_CLICK_BEFORE, this._onMouseDblClickResizeSetBeforeFn)\n\t\t\t\tset.subscribe(T_SET.RESIZE_MOUSE_DBL_CLICK_AFTER, this._onMouseDblClickResizeSetAfterFn)\n\t\t\t}\n\n\t\t} else {\n\t\t\tthrow new Error('Toolbar set is not a UiSet object')\n\t\t}\n\t}\n\n\tremoveSet( set ) {\n\t\tlet index\n\n\t\tif( set instanceof UiSet ) {\n\t\t\tindex = this._sets.indexOf(set)\n\n\t\t\tif( index === -1 ) {\n\t\t\t\tWARN && console.warn('Set not in toolbar')\n\n\t\t\t} else {\n\t\t\t\tthis._sets.splice(index, 1)\n\t\t\t\tset.parent(null)\n\t\t\t}\n\n\t\t} else {\n\t\t\tthrow new Error('Toolbar set is not a UiSet object')\n\t\t}\n\t}\n\n\taddSets( sets ) {\n\t\tif( Array.isArray(sets) ) {\n\t\t\tfor( let set of sets ) {\n\t\t\t\tthis.addSet(set)\n\t\t\t}\n\n\t\t} else {\n\t\t\tthrow new Error('Toolbar sets must be specified in an array')\n\t\t}\n\t}\n\n\trender() {\n\t\tsuper.render()\n\n\t\tfor( let set of this._sets ) {\n\t\t\tset.render()\n\t\t}\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/public/js/toolbar.js","import T from './TOPICS.js'\nimport _ from './utility.js'\nimport Core from './core.js'\nimport UiScreen from './screen.js'\nimport UiToolbar from './toolbar.js'\nimport UiIcon from './icon.js'\nimport UiSet from './set.js'\n\nconst\n\tINFO = 1\n\n_.ready(() => {\n\tconst\n\t\tdoc = document,\n\t\tbody = doc.body\n\t\n\tlet screen = new UiScreen({\n\t\t\tparent: body\n\t\t}),\n\t\tnavButtons = new UiSet({\n\t\t\titems: [\n\t\t\t\tnew UiIcon({\n\t\t\t\t\tclasses: 'icon-svg-left-arrow'\n\t\t\t\t}),\n\t\t\t\tnew UiIcon({\n\t\t\t\t\tclasses: 'icon-svg-right-arrow'\n\t\t\t\t})\n\t\t\t],\n\t\t\tresizeHandle: null\n\t\t}),\n\t\tpageButtons = new UiSet({\n\t\t\titems: [\n\t\t\t\tnew UiIcon({\n\t\t\t\t\tclasses: 'icon-svg-up-arrow'\n\t\t\t\t}),\n\t\t\t\tnew UiIcon({\n\t\t\t\t\tclasses: 'icon-svg-down-arrow'\n\t\t\t\t})\n\t\t\t]\n\t\t}),\n\t\tmenuButtons = new UiSet({\n\t\t\titems: [\n\t\t\t\tnew UiIcon({\n\t\t\t\t\tclasses: 'icon-svg-menu-text'\n\t\t\t\t}),\n\t\t\t\tnew UiIcon({\n\t\t\t\t\tclasses: 'icon-svg-menu-grid'\n\t\t\t\t}),\n\t\t\t\tnew UiIcon({\n\t\t\t\t\tclasses: 'icon-svg-menu-expand'\n\t\t\t\t}),\n\t\t\t\tnew UiIcon({\n\t\t\t\t\tclasses: 'icon-svg-menu-drop'\n\t\t\t\t})\n\t\t\t]\n\t\t}),\n\t\tviewButtons = new UiSet({\n\t\t\titems: [\n\t\t\t\tnew UiIcon({\n\t\t\t\t\tclasses: 'icon-svg-expand'\n\t\t\t\t}),\n\t\t\t\tnew UiIcon({\n\t\t\t\t\tclasses: 'icon-svg-contract'\n\t\t\t\t})\n\t\t\t]\n\t\t}),\n\t\ttoolbar = new UiToolbar({\n\t\t\tparent: screen.el(),\n\t\t\tsets: [\n\t\t\t\tnavButtons,\n\t\t\t\tpageButtons,\n\t\t\t\tmenuButtons,\n\t\t\t\tviewButtons\n\t\t\t]\n\t\t})\n\n\tINFO && Core.subscribe(T.SCREEN_SIZE, ( topic, data ) => {\n\t\tconsole.info(data.width + 'px  ' + data.height + 'px ')\n\t})\n})\n\n\n\n// WEBPACK FOOTER //\n// ./app/public/js/app.js","import { TYPES } from './utility.js'\n\nconst\n\tINFO = 0,\n\tWARN = 0,\n\t{ UNDEF, STR, BOOL, NUM, FN, OBJ, SYM } = TYPES,\n\tDEFAULT_DELIMITER = ' '\n\nexport default class UiOption {\n\tstatic makeDefaultDescriptor() {\n\t\treturn {\n\t\t\tmerge: false,\n\t\t\ttype: STR,\n\t\t\tdflt: ''\n\t\t}\n\t}\n\t\n\tconstructor( descriptor = {}, name = 'unknown' ) {\n\t\tthis._name = name\n\t\tthis._validateDescriptor(descriptor)\n\t\tthis._validateValue()\n\t}\n\n\t_validateDescriptor( descriptor ) {\n\t\tif( typeof descriptor !== OBJ ) {\n\t\t\tthrow new Error(`[${this._name}] option descriptor not an object`)\n\t\t}\n\n\t\tthis._descriptor = Object.assign(UiOption.makeDefaultDescriptor(), descriptor)\n\n\t\tlet { merge, delimiter, type, validator, values } = this._descriptor\n\n\t\tif( type !== void 0 ) {\n\t\t\tif( typeof type === STR ) {\n\t\t\t\tif( !Object.values(TYPES).includes(type) ) {\n\t\t\t\t\tthrow new Error(`[${this._name}] option descriptor type string must be valid against the typeof operator`)\n\t\t\t\t}\n\t\t\t\n\t\t\t} else if( typeof type !== FN ) {\n\t\t\t\tthrow new Error(`[${this._name}] option descriptor type is not a string or function`)\n\t\t\t}\n\t\t}\n\n\t\tif( merge !== void 0 && typeof merge !== BOOL ) {\n\t\t\tthrow new Error(`[${this._name}] option descriptor merge is not boolean`)\n\t\t}\n\n\t\tif( merge ) {\n\t\t\tif( delimiter !== void 0 && typeof delimiter !== STR ) {\n\t\t\t\tthrow new Error(`[${this._name}] option descriptor delimiter not a string`)\n\t\t\t}\n\n\t\t\tif( delimiter === void 0 && type === STR ) {\n\t\t\t\tthis._descriptor.delimiter = DEFAULT_DELIMITER\n\t\t\t}\n\n\t\t} else if( delimiter !== void 0 ) {\n\t\t\tthis._descriptor.delimiter = void 0\n\t\t\tWARN && console.warn('[%s] option descriptor delimiter ignored when not merging', this._name)\n\t\t}\n\n\t\tif( values !== void 0 ) {\n\t\t\tif( typeof values !== OBJ && !Array.isArray(values) ) {\n\t\t\t\tthrow new Error(`[${this._name}] option descriptor possible values must be specified as an array or object`)\n\t\t\t}\n\t\t}\n\n\t\tif( validator !== void 0 ) {\n\t\t\tif( typeof validator !== FN ) {\n\t\t\t\tthrow new Error(`[${this._name}] option descriptor custom validator must be callable`)\n\t\t\t}\n\t\t}\n\t}\n\n\t_validateValue( v ) {\n\t\tlet argValue = !!arguments.length,\n\t\t\thasValue = this._descriptor.hasOwnProperty('value'),\n\t\t\thasDefault = this._descriptor.hasOwnProperty('dflt'),\n\t\t\t{ type, dflt, validator, merge, value, values } = this._descriptor\n\t\t\n\t\tif( argValue ) {\n\t\t\tvalue = v\n\t\t\n\t\t} else if( hasValue ) {\n\t\t\tif( Object.keys(this._descriptor).length === 1 ) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t} else if( hasDefault ) {\n\t\t\tthis._descriptor.value = value = dflt\n\n\t\t} else {\n\t\t\tthrow new Error(`[${this._name}] option descriptor definition must include a value or a default value`)\n\t\t}\n\n\t\tif( type !== void 0 ) {\n\t\t\tif( typeof type === STR ) {\n\t\t\t\tif( typeof value !== type ) {\n\t\t\t\t\tthrow new Error(`[${this._name}] option value not of type: ${type}`)\n\t\t\t\t}\n\t\t\t\n\t\t\t} else if( typeof type === FN ) {\n\t\t\t\tif( !(value instanceof type) && value !== dflt ) {\n\t\t\t\t\tthrow new Error(`[${this._name}] option value not an instance of: ${type.name}`)\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\tWARN && console.warn('[%s] option type checking skipped due to unsupported type validation', this._name)\n\t\t\t}\n\t\t}\n\n\t\t// todo: plain object checking\n\t\tif( merge ) {\n\t\t\tif( type !== STR && type !== OBJ && !Array.isArray(value) ) {\n\t\t\t\tthrow new Error(`[${this._name}] option merging can only be performed on arrays, strings, and plain objects`)\n\t\t\t}\n\t\t}\n\n\t\tif( values ) {\n\t\t\tif( Array.isArray(values) ) {\n\t\t\t\tif( !values.includes(value) ) {\n\t\t\t\t\tINFO && console.dir(value)\n\t\t\t\t\tthrow new Error(`[${this._name}] value not in possible valid values`)\n\t\t\t\t}\n\n\t\t\t} else if( typeof values === OBJ ) {\n\t\t\t\tif( !Object.values(values).includes(value) ) {\n\t\t\t\t\tINFO && console.dir(value)\n\t\t\t\t\tthrow new Error(`[${this._name}] value not in possible valid values`)\n\t\t\t\t}\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\tWARN && console.warn('[%s] values type checking skipped due to unsupported validation')\n\t\t\t}\n\t\t}\n\n\t\tif( validator && !validator(value) ) {\n\t\t\tthrow new Error(`[${this._name}] value failed custom validation`)\n\t\t}\n\t}\n\n\t// todo: deep merge, plain object checking\n\t_mergeValue( v ) {\n\t\tif( typeof v === STR ) {\n\t\t\tthis._descriptor.value += this._descriptor.value ? this._descriptor.delimiter + v : v\n\n\t\t} else if( Array.isArray(v) ) {\n\t\t\tthis._descriptor.value = this._descriptor.value.concat(v)\n\t\t\n\t\t} else if( typeof v === OBJ ) {\n\t\t\tObject.assign(this._descriptor.value, v)\n\t\t}\n\t}\n\n\t_shiftValues() {\n\t\tlet\t{ type, value } = this._descriptor\n\n\t\tif( type === STR ) {\n\t\t\tthis._descriptor.value = ''\n\n\t\t} else if( Array.isArray(value) ) {\n\t\t\tthis._descriptor.value = []\n\t\t\n\t\t} else if( type === OBJ ) {\n\t\t\tthis._descriptor.value = {}\n\t\t\n\t\t} else {\n\t\t\tthrow new Error(`Unsupported merge type encountered while shifting values for option [${this._name}]`)\n\t\t}\n\n\t\treturn value\n\t}\n\n\tvalue( v ) {\n\t\tif( !arguments.length ) {\n\t\t\treturn this._descriptor.value\n\t\t}\n\t\t\n\t\tthis._validateValue(v)\n\n\t\tif( this._descriptor.merge ) {\n\t\t\tthis._mergeValue(v)\n\n\t\t} else {\n\t\t\tthis._descriptor.value = v\n\t\t}\n\t}\n\n\tvalues( arr , shift = false ) {\n\t\tlet shiftValues\n\n\t\tif( !Array.isArray(arr) ) {\n\t\t\tWARN && console.warn('[%s] option values must be specified in an array: treated as single value', this._name)\n\t\t\tthis.value(arr)\n\t\t\treturn\n\t\t}\n\n\t\tif( this._descriptor.merge ) {\n\t\t\tif( shift ) {\n\t\t\t\tshiftValues = this._shiftValues()\n\t\t\t}\n\n\t\t\tfor( let v of arr ) {\n\t\t\t\tthis.value(v)\n\t\t\t}\n\t\t\t\n\t\t\tif( shift && shiftValues ) {\n\t\t\t\tthis.value(shiftValues)\n\t\t\t}\n\t\t\n\t\t} else {\n\t\t\tif( arr.length > 1 ) {\n\t\t\t\tWARN && console.warn('[%s] option descriptor ignored pending options while not merging', this._name)\n\t\t\t}\n\t\t\tthis.value(arr[0])\n\t\t}\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/public/js/option.js"],"sourceRoot":""}